#include "wordclock/wordclock.hpp"

const uint32_t Wordclock::u32AnimationTime = 3500;
const uint16_t Wordclock::u16TimeoutTime = 30000;
const uint16_t Wordclock::u16BlinkTime = 200;
const uint16_t Wordclock::u16TestTime = 500;
const uint16_t Wordclock::u16RedrawTime = 30000;

//@formatter:off
const uint8_t Wordclock::au8Mapping[LEDS] = {
	113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 91, 90, 89, 88, 87, 86, 85, 84,
	83, 82, 81, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 47, 46, 45, 44, 43, 42, 41, 40,
	39, 38, 37, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 3, 2, 1, 0};

const Wordclock::Image Wordclock::Up = {
	.u8Size = 14,
	.u8Points = { {3, 0}, {2, 1}, {4, 1}, {1, 2}, {5, 2}, {0, 3}, {6, 3}, {3, 1}, {3, 2}, {3, 3}, {3, 4}, {3, 5}, {3, 6},
		  {3, 7}}
	  	  //{0, 7}, {1, 7}, {2, 7}, {3, 7}, {4, 7}, {5, 7}, {6, 7}}
};

const Wordclock::Image Wordclock::Down = {
	.u8Size = 14,
	.u8Points = { {3, 6}, {2, 5}, {4, 5}, {1, 4}, {5, 4}, {0, 4}, {6, 4}, {3, 6}, {3, 5}, {3, 4}, {3, 3}, {3, 2}, {3, 1},
		  {3, 0}}
	  	  //{0, 7}, {1, 7}, {2, 7}, {3, 7}, {4, 7}, {5, 7}, {6, 7}}
};

const Wordclock::Image Wordclock::error = {
	.u8Size = 9,
	.u8Points = { {3, 2}, {7, 2}, {4, 3}, {6, 3}, {5, 4}, {4, 5}, {6, 5}, {3, 6}, {7, 6}}
};

const Wordclock::Image Wordclock::ok = {
	.u8Size = 6,
	.u8Points = { {8, 2}, {7, 3}, {6, 4}, {5, 5}, {4, 4}, {3, 3}}
};

const Wordclock::Image Wordclock::Fragezeichen = {
	.u8Size = 27,
	.u8Points = { {1, 0}, {2, 0}, {3, 0}, {4, 0}, {5, 0}, {0, 1}, {1, 1}, {5, 1}, {6, 1},
				  {0, 2}, {6, 2}, {5, 3}, {6, 3}, {4, 4}, {5, 4}, {2, 5}, {3, 5}, {4, 5},
				  {2, 6}, {3, 6}, {4, 6}, {2, 8}, {3, 8}, {4, 8}, {2, 9}, {3, 9}, {4, 9}}
};

const Wordclock::Image Wordclock::N = {
	.u8Size = 13,
	.u8Points = { {3, 3}, {3, 4}, {3, 5}, {3, 6}, {3, 7}, {7, 3}, {7, 4}, {7, 5}, {7, 6}, {7, 7},
				  {4, 4}, {5, 5}, {6, 6} }
};

static const Wordclock::Image z0 = {
	.u8Size = 16,
	.u8Points = { {1, 0}, {2, 0}, {3, 0}, {0, 1}, {4, 1}, {0, 2}, {4, 2}, {0, 3}, {4, 3}, {0, 4}, {4, 4}, {0, 5}, {4, 5}, {1, 6}, {2, 6}, {3, 6}}
};
static const Wordclock::Image z1 = {
	.u8Size = 13,
	.u8Points = { {2, 0}, {1, 1}, {2, 1}, {0, 2}, {2, 2}, {2, 3}, {2, 4}, {2, 5}, {0, 6}, {1, 6}, {2, 6}, {3, 6}, {4, 6}}
};
static const Wordclock::Image z2 = {
	.u8Size = 15,
	.u8Points = { {1, 0}, {2, 0}, {3, 0}, {0, 1}, {4, 1}, {0, 2}, {4, 2}, {3, 3}, {2, 4}, {1, 5}, {0, 6}, {1, 6}, {2, 6}, {3, 6}, {4, 6}}
};
static const Wordclock::Image z3 = {
	.u8Size = 14,
	.u8Points = { {1, 0}, {2, 0}, {3, 0}, {0, 1}, {4, 1}, {4, 2}, {3, 3}, {2, 3}, {4, 4}, {0, 5}, {4, 5}, {1, 6}, {2, 6}, {3, 6}}
};
static const Wordclock::Image z4 = {
	.u8Size = 14,
	.u8Points = { {3, 0}, {3, 1}, {3, 2}, {3, 3}, {3, 4}, {3, 5}, {3, 6}, {0, 4}, {1, 4}, {2, 4}, {2, 1}, {1, 2}, {0, 3}}
};
static const Wordclock::Image z5 = {
	.u8Size = 18,
	.u8Points = { {0, 0}, {1, 0}, {2, 0}, {3, 0}, {4, 0}, {0, 1}, {0, 2}, {1, 2}, {2, 2}, {3, 2}, {4, 3}, {0, 4}, {4, 4}, {0, 5}, {4, 5}, {1, 6}, {2, 6}, {3, 6}}
};
static const Wordclock::Image z6 = {
	.u8Size = 17,
	.u8Points = { {1, 0}, {2, 0}, {3, 0}, {0, 1}, {4, 1}, {0, 2}, {0, 3}, {1, 3}, {2, 3}, {3, 3}, {0, 4}, {4, 4}, {0, 5}, {4, 5}, {1, 6}, {2, 6}, {3, 6}}
};
static const Wordclock::Image z7 = {
	.u8Size = 11,
	.u8Points = { {0, 0}, {1, 0}, {2, 0}, {3, 0}, {4, 0}, {4, 1}, {3, 2}, {2, 3}, {2, 4}, {2, 5}, {2, 6}}
};
static const Wordclock::Image z8 = {
	.u8Size = 17,
	.u8Points = { {1, 0}, {2, 0}, {3, 0}, {0, 1}, {4, 1}, {0, 2}, {4, 2}, {1, 3}, {2, 3}, {3, 3}, {0, 4}, {4, 4}, {0, 5}, {4, 5}, {1, 6}, {2, 6}, {3, 6}}
};
static const Wordclock::Image z9 = {
	.u8Size = 17,
	.u8Points = { {1, 0}, {2, 0}, {3, 0}, {0, 1}, {4, 1}, {0, 2}, {4, 2}, {1, 3}, {2, 3}, {3, 3}, {4, 3}, {4, 4}, {0, 5}, {4, 5}, {1, 6}, {2, 6}, {3, 6}}
};

const Wordclock::Image* Wordclock::aoZiffern[10] = {&z0, &z1, &z2, &z3, &z4, &z5, &z6, &z7, &z8, &z9};

static const Wordclock::Image D = {
	.u8Size = 18,
	.u8Points = {{0, 0}, {1, 0}, {2, 0}, {3, 1}, {0, 7}, {1, 7}, {2, 7}, {3, 6}, {4, 2}, {4, 3}, {4, 4}, {4, 5}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5},{0, 6}}
};

static const Wordclock::Image E = {
	.u8Size = 20,
	.u8Points = {{1, 0}, {2, 0}, {3, 0}, {4, 0}, {1, 3}, {2, 3}, {3, 3}, {4, 3}, {1, 7}, {2, 7}, {3, 7}, {4, 7}, {0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}}
};

static const Wordclock::Image F = {
	.u8Size = 16,
	.u8Points = {{1, 0}, {2, 0}, {3, 0}, {4, 0}, {1, 3}, {2, 3}, {3, 3}, {4, 3}, {0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}}
};

static const Wordclock::Image L = {
	.u8Size = 12,
	.u8Points = {{1, 7}, {2, 7}, {3, 7}, {4, 7}, {0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}}
};

static const Wordclock::Image N_ = {
	.u8Size = 20,
	.u8Points = {{0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}, {4, 0}, {4, 1}, {4, 2}, {4, 3}, {4, 4}, {4, 5}, {4, 6}, {4, 7}, {1, 2}, {2, 3}, {2, 4}, {3, 5}}
};

static const Wordclock::Image R = {
	.u8Size = 20,
	.u8Points = {{0, 0}, {0, 1}, {0, 2}, {0, 3}, {0, 4}, {0, 5}, {0, 6}, {0, 7}, {2, 5}, {3, 6}, {4, 7}, {1, 0}, {2, 0}, {3, 0}, {4, 1}, {4, 2}, {4, 3}, {1, 4}, {2, 4}, {3, 4}}
};

const Wordclock::Image* Wordclock::aoBuchstaben[24] = {nullptr, nullptr, nullptr, &D, &E, &F, nullptr, nullptr, nullptr, nullptr, nullptr, &L, nullptr, &N_, nullptr, nullptr, nullptr, &R};
//@formatter:on
